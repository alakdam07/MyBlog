(this.webpackJsonpmydiary=this.webpackJsonpmydiary||[]).push([[0],{28:function(e,t,a){e.exports=a(42)},33:function(e,t,a){},34:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),l=(a(33),a(34),a(4)),o=a.n(l),s=a(7),u=a(11),m=a(19),p=a(9);function d(){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=a(20),b=a.n(E),w=a(21),y=a(22),g=a(26),N=a(23),x=a(27),O=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(g.a)(this,Object(N.a)(t).call(this,e))).state={is_visible:!1},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",(function(t){e.toggleVisibility()}))}},{key:"toggleVisibility",value:function(){window.pageYOffset>300?this.setState({is_visible:!0}):this.setState({is_visible:!1})}},{key:"scrollToTop",value:function(){window.scrollTo({top:0,behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=this.state.is_visible;return r.a.createElement("div",{className:"scroll-to-top"},t&&r.a.createElement("button",{className:"btnScrollToTop ",onClick:function(){return e.scrollToTop()}},r.a.createElement("i",{className:"material-icons"},"arrow_upward")))}}]),t}(n.Component);function j(){var e=r.a.useState([]),t=Object(p.a)(e,2),a=t[0],n=t[1],c=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){c()}),[]);var i=a.reduce((function(e,t){return e[t._id]={createdAt:b()(t.createdAt),name:t.name,author:t.author,description:t.description},e}),{}),l=Object.keys(i);return l.sort((function(e,t){return i[t].createdAt-i[e].createdAt})),r.a.createElement("div",null,l.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"card blue-grey darken-1"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("span",{className:"card-title"},"Topic: ",i[e].name),r.a.createElement("span",{className:"card-title",style:{fontSize:"20px"}},"Author: ",i[e].author),r.a.createElement("p",null,i[e].description)),r.a.createElement("div",{className:"card-action"},"Published at: ",i[e].createdAt.calendar())))),r.a.createElement(O,null))})))}function k(){var e=r.a.useState(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],c=r.a.useState(""),i=Object(p.a)(c,2),l=i[0],d=i[1],h=r.a.useState({name:"",author:"",description:""}),f=Object(p.a)(h,2),E=f[0],b=f[1],w=function(e){b(Object(m.a)({},E,Object(u.a)({},e.target.id,e.target.value)))},y=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,v({name:E.name,author:E.author,description:E.description});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),d(e.t0.message);case 9:n(!1),b({name:"",author:"",description:""});case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col s12",onSubmit:y},l?r.a.createElement("p",{className:"error"},l):null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s3"},r.a.createElement("input",{id:"name",type:"text","data-length":"4",onChange:w,value:E.name,required:!0}),r.a.createElement("label",{htmlFor:"input_text"},"Topic")),r.a.createElement("div",{className:"input-field col s3"},r.a.createElement("input",{id:"author",type:"text","data-length":"4",onChange:w,value:E.author,required:!0}),r.a.createElement("label",{htmlFor:"input_text"},"Author"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s8"},r.a.createElement("textarea",{id:"description",className:"materialize-textarea","data-length":"120",onChange:w,value:E.description,required:!0}),r.a.createElement("label",{htmlFor:"textarea2"},"Description"))),r.a.createElement("button",{className:"btn waves-effect blue lighten-1",type:"submit",name:"action",disabled:a},a?"Loading...":"Create Entry")))),r.a.createElement(j,null))}var S=a(12),T=a(6);function _(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper purple darken-1"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(S.b,{to:"/",className:"text"},"Online Blog"))))))}var A=function(){return r.a.createElement(S.a,null,r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement(T.a,null,r.a.createElement(T.c,null,r.a.createElement(T.a,{path:"/",component:k,exact:!0})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.199000fc.chunk.js.map